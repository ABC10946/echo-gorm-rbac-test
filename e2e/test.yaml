desc: Generated by `runn new`
runners:
  req: http://localhost:1234
steps:
  clean:
    desc: Clean the database
    exec:
      command: bash ./clean.sh
  preprocess:
    desc: Preprocess the data
    exec:
      command: bash ./preprocess.sh
  incorrectBasicAuth:
    desc: Incorrect basic auth
    req:
      /items:
        get:
          headers:
            Authorization: Basic YWFhOmFhYQ==
    test: "current.res.status == 401 && current.res.body.message == 'Unauthorized'\n"
  createItem:
    desc: Create a new item
    req:
      /items:
        post:
          headers:
            Authorization: Basic YWRtaW46YWRtaW4=
          body:
            application/json:
              name: item1
              price: 12
              quantity: 4
  listeItems:
    desc: List all items
    req:
      /items:
        get:
          headers:
            Authorization: Basic YWRtaW46YWRtaW4=
    test: "current.res.status == 200 && \nlen(current.res.body) == 1 && \ncurrent.res.body[0].name
      == 'item1'\n"
